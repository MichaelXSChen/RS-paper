% Remember to use the lgrind style

\Head{}
\File{backup.cpp}{2016}{5}{1}{18:32}{475}
\L{\LB{\V{viewstamp\_t}_\V{idx};}}
\index{follow\_consensus}\Proc{follow\_consensus}\L{\LB{\K{void}_\V{follow\_consensus}(\V{node}_*\V{cur},_}}
\L{\LB{}\Tab{4}{\V{call}_\V{type},_\V{data},_\V{data\_size})_\{}}
\L{\LB{}}
\L{\LB{}\Tab{2}{\C{}//_check_log_entry_integrity.\CE{}}}
\L{\LB{}\Tab{2}{\V{data}_\V{size}_\>_\N{0}_\K{and}_\V{canary}_\V{value}_\V{is}_\V{there}.}}
\L{\LB{}\Tab{2}{}}
\L{\LB{}\Tab{2}{\C{}//_check_viewstamp_and_agree/reject._Local_preparation.\CE{}}}
\L{\LB{}\Tab{2}{\K{if}_(\V{entry}.\V{view\_id}_==_\V{my}.\V{view\_id})_\{}}
\L{\LB{}\Tab{4}{\V{store\_record}(\V{entry});}}
\L{\LB{}\Tab{4}{\V{ack}_=_\V{build\_ack}();}}
\L{\LB{}\Tab{2}{\}}}
\L{\LB{}\Tab{2}{\C{}//_Send_back_\CE{}}}
\L{\LB{}\Tab{2}{\V{send}_\V{back}_\V{to}_\V{leader}_\V{by}_\V{writing}_\V{ACK}_[\V{i}]_\V{with}_\V{remote}_\V{start}_\V{addr}_+_\V{i}*\K{sizeof}(\V{ack});}}
\L{\LB{}\Tab{2}{}}
\L{\LB{}\Tab{2}{\C{}//\CE{}}}
\L{\LB{}\Tab{2}{\V{extract}_\V{latest}_\V{committed}_\V{requests}_\K{and}_\V{execute}_\V{them};}}
\L{\LB{}\Tab{2}{}}
\L{\LB{}}
\L{\LB{\}}}
